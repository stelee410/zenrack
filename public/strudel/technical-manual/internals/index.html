<!DOCTYPE html><html dir="ltr" lang="en" class="initial dark"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v5.1.9"><link rel="alternate" type="application/rss+xml" title="RSS Feed for strudel.cc" href="/rss.xml"><link rel="icon" type="image/svg+xml" href="/strudel/favicon.ico"><meta name="description" content="Strudel is a music live coding environment for the browser, porting the TidalCycles pattern language to JavaScript."><link rel="icon" href="/strudel/favicon.ico"><link rel="apple-touch-icon" href="/strudel/icons/apple-icon-180.png" sizes="180x180"><meta name="theme-color" content="#222222"><base href="/strudel/"><!-- Scrollable a11y code helper --><script `${baseNoTrailing}/make-scrollable-code-focusable.js`="/strudel/make-scrollable-code-focusable.js"></script><script type="module" src="/strudel/_astro/HeadCommon.astro_astro_type_script_index_0_lang.-J-AFSJj.js"></script><!-- this does not work for some reason: --><!-- <style is:global define:vars={strudelTheme}></style> --><!-- the following variables are just a fallback to make sure everything is readable without JS --><link rel="manifest" href="/strudel/manifest.webmanifest"><script type="module" src="/strudel/_astro/HeadCommon.astro_astro_type_script_index_1_lang.B-mjXNqi.js"></script><!-- Page Metadata --><link rel="canonical" href="https://strudel.cc/strudel/technical-manual/internals/"><!-- OpenGraph Tags --><meta property="og:title" content="Internals ðŸš€ Strudel"><meta property="og:type" content="article"><meta property="og:url" content="https://strudel.cc/strudel/technical-manual/internals/"><meta property="og:locale" content="en"><meta property="og:image" content="https://strudel.cc/icon.png"><meta property="og:image:alt" content="Strudel Logo"><meta name="description" property="og:description" content="Strudel is a music live coding editor that brings TidalCycles to the browser."><meta property="og:site_name" content="Strudel"><title>
      Internals ðŸŒ€ Strudel
    </title><link rel="stylesheet" href="/strudel/_astro/bakery.BMgVoZzN.css">
<style>@font-face{font-family:PressStart;src:url(/strudel/fonts/PressStart2P/PressStart2P-Regular.ttf);size-adjust:65%}@font-face{font-family:BigBlueTerminal;src:url(/strudel/fonts/BigBlueTerminal/BigBlue_TerminalPlus.TTF)}@font-face{font-family:x3270;src:url(/strudel/fonts/3270/3270-Regular.ttf)}@font-face{font-family:galactico;src:url(/strudel/fonts/galactico/Galactico-Basic.otf)}@font-face{font-family:CutiePi;src:url(/strudel/fonts/CutiePi/Cute_Aurora_demo.ttf);size-adjust:120%}@font-face{font-family:JetBrains;src:url(/strudel/fonts/JetBrains/JetBrainsMono.woff2)}@font-face{font-family:Monocraft;src:url(/strudel/fonts/Monocraft/Monocraft.ttf);size-adjust:90%}@font-face{font-family:Hack;src:url(/strudel/fonts/Hack/Hack-Regular.ttf)}@font-face{font-family:we-come-in-peace;src:url(/strudel/fonts/we-come-in-peace/we-come-in-peace-bb.regular.ttf)}@font-face{font-family:FiraCode;src:url(/strudel/fonts/FiraCode/FiraCode-Regular.ttf)}@font-face{font-family:FiraCode-SemiBold;src:url(/strudel/fonts/FiraCode/FiraCode-SemiBold.ttf)}@font-face{font-family:teletext;src:url(/strudel/fonts/teletext/EuropeanTeletext.ttf);size-adjust:90%}@font-face{font-family:tic80;src:url(/strudel/fonts/tic80/tic-80-wide-font.otf);size-adjust:60%}@font-face{font-family:mode7;src:url(/strudel/fonts/mode7/MODE7GX3.TTF);size-adjust:82%}.prose>h1:not(:first-child){margin-top:30px}:root{--app-height: 100vh;--app-width: 100vw}#console-tab{font-family:BigBlueTerminal,monospace}:root{--background: #222;--lineBackground: #22222299;--foreground: #fff;--caret: #ffcc00;--selection: rgba(128, 203, 196, .5);--selectionMatch: #036dd626;--lineHighlight: #00000050;--gutterBackground: transparent;--gutterForeground: #8a919966}
</style>
<link rel="stylesheet" href="/strudel/_astro/first-effects.Cs9GFTPW.css">
<style>.prose h1:before,.prose h2:before,.prose h3:before,.prose h4:before,.prose h5:before,.prose h6:before{display:block;content:" ";margin-top:-70px;height:70px;visibility:hidden;pointer-events:none}.icon.icon-link{visibility:hidden}.prose h1:hover .icon.icon-link,.prose h2:hover .icon.icon-link,.prose h3:hover .icon.icon-link,.prose h4:hover .icon.icon-link,.prose h5:hover .icon.icon-link,.prose h6:hover .icon.icon-link{visibility:visible}.prose h1>a,.prose h2>a,.prose h3>a,.prose h4>a,.prose h5>a,.prose h6>a{text-decoration:none!important}.icon.icon-link:after{content:"#";margin-left:8px;font-size:.9em;opacity:50%}
:root{--background: #222;--lineBackground: #22222299;--foreground: #fff;--caret: #ffcc00;--selection: rgba(128, 203, 196, .5);--selectionMatch: #036dd626;--lineHighlight: #00000050;--gutterBackground: transparent;--gutterForeground: #8a919966}.darken:before{content:" ";position:fixed;top:0;left:0;width:100vw;height:100vh;display:block;background:#000;opacity:.5}#code .cm-scroller{padding-top:10px!important;height:100%;font-family:inherit}#code .cm-content{padding-bottom:50vh}#code .cm-line>*{background:var(--lineBackground)}#code .cm-editor{background-color:transparent!important;height:100%;z-index:11}#code .cm-theme{width:100%;height:100%}#code .cm-theme-light{width:100%}#code .cm-cursorLayer{animation-name:inherit!important}#code .cm-cursor{border-left:2px solid currentcolor!important}#code .cm-foldGutter{display:none!important}#code .cm-focused{outline:none}#code .cm-matchingBracket{-webkit-text-decoration:underline .18rem;text-decoration:underline .18rem;text-underline-offset:.22rem}.cm-tooltip.cm-completionInfo{padding:0!important;border:1px solid var(--foreground)!important;border-radius:4px!important;box-shadow:0 4px 12px #0000004d!important;max-width:500px!important;min-width:300px!important;max-height:400px!important;background-color:var(--lineHighlight)!important;overflow:auto;background:var(--background)!important}.autocomplete-info-container{padding:12px!important;border-radius:4px!important;color:var(--foreground);font-family:var(--font-family, "SF Mono", "Monaco", monospace);font-size:var(--font-size, 13px);line-height:1.4;max-width:600px;height:100%;min-width:400px;white-space:normal!important;overflow-y:auto!important}.autocomplete-info-tooltip{overflow-y:auto!important}.autocomplete-info-function-description{white-space:pre-wrap!important}.autocomplete-info-function-name{font-size:15px;font-weight:600;color:var(--foreground);margin:0 0 8px}.autocomplete-info-function-synonyms,.autocomplete-info-function-description{margin:0 0 12px;color:var(--foreground);line-height:1.5;opacity:.8}.autocomplete-info-section-title{font-size:12px;font-weight:600;color:var(--foreground);margin:16px 0 6px;text-transform:uppercase;letter-spacing:.5px}.autocomplete-info-section-title:first-child{margin-top:0}.autocomplete-info-params-section{margin-top:12px}.autocomplete-info-params-list{list-style:none;margin:0;padding:0}.autocomplete-info-param-item{margin-bottom:8px;padding:8px;background-color:var(--lineBackground);border-radius:3px;border-left:2px solid var(--foreground, #555)}.autocomplete-info-param-item:last-child{margin-bottom:0}.autocomplete-info-param-name{font-weight:600;color:var(--variable, var(--foreground));margin-right:8px}.autocomplete-info-param-type{color:var(--comment);font-size:12px;background-color:var(--gutterForeground);padding:1px 4px;border-radius:2px}.autocomplete-info-param-desc{color:var(--foreground);font-size:10px;margin-top:4px;line-height:1.4;opacity:.7}.autocomplete-info-examples-section{margin-top:12px}.autocomplete-info-example-code{background:var(--lineBackground);color:var(--foreground);padding:8px;border-radius:3px;font-family:var(--font-family, "SF Mono", "Monaco", monospace);font-size:12px;line-height:1.5;margin:4px 0;overflow-x:auto;white-space:pre;border:1px solid var(--foreground, #3a3a3a)}.autocomplete-info-tooltip::-webkit-scrollbar{width:4px}.autocomplete-info-tooltip::-webkit-scrollbar-thumb{border-radius:2px}
</style></head> <body class="h-app-height m-0 text-gray-50 bg-background"> <div class="w-full h-full space-y-4 flex flex-col"> <header class="max-w-full fixed top-0 w-full z-[100]"> <nav class="flex justify-between py-2 px-4 items-center h-14 max-h-14 bg-lineHighlight text-foreground" title="Top Navigation" data-astro-cid-2w66rqv5> <div class="flex overflow-visible items-center grow" style="overflow:visible" data-astro-cid-2w66rqv5> <div class="flex items-center text-2xl space-x-2" data-astro-cid-2w66rqv5> <h1 class="font-bold flex space-x-2 items-baseline text-xl" data-astro-cid-2w66rqv5> <span class="block rotate-90 text-blue-500" data-astro-cid-2w66rqv5>ê©œ</span> <div class="flex space-x-2 items-baseline" data-astro-cid-2w66rqv5> <span class="" data-astro-cid-2w66rqv5>strudel</span> <span class="text-sm font-medium" data-astro-cid-2w66rqv5>DOCS</span> </div> </h1> </div> </div>  <div class="search-item h-10" data-astro-cid-2w66rqv5> <astro-island uid="XQOWv" prefix="r1" component-url="/strudel/_astro/Search.D8DD0C3f.js" component-export="default" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;data-astro-cid-2w66rqv5&quot;:[0,true]}" ssr client="idle" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:true}" await-children><button type="button" class="rounded-md bg-slate-900 w-full px-2 search-button"><svg width="24" height="24" fill="none"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="search-hint"><span class="sr-only">Press </span><kbd>/</kbd><span class="sr-only"> to search</span></span></button><!--astro:end--></astro-island> </div> <a href="/strudel/" class="hidden md:flex cursor-pointer items-center space-x-1" data-astro-cid-2w66rqv5><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon" class="w-5 h-5" data-astro-cid-2w66rqv5="true"><path fill-rule="evenodd" d="M3.25 3A2.25 2.25 0 0 0 1 5.25v9.5A2.25 2.25 0 0 0 3.25 17h13.5A2.25 2.25 0 0 0 19 14.75v-9.5A2.25 2.25 0 0 0 16.75 3H3.25Zm.943 8.752a.75.75 0 0 1 .055-1.06L6.128 9l-1.88-1.693a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 0 1-1.06-.055ZM9.75 10.25a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z" clip-rule="evenodd"></path></svg><span data-astro-cid-2w66rqv5>go to REPL</span> </a> <div class="md:hidden" data-astro-cid-2w66rqv5> <astro-island uid="Z2ut9Ui" prefix="r2" component-url="/strudel/_astro/MobileNav.GraQMxV_.js" component-export="default" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;sidebar&quot;:[0,{&quot;Presentation&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;What is Strudel?&quot;],&quot;link&quot;:[0,&quot;workshop/getting-started&quot;]}],[0,{&quot;text&quot;:[0,&quot;Showcase&quot;],&quot;link&quot;:[0,&quot;intro/showcase&quot;]}],[0,{&quot;text&quot;:[0,&quot;Blog&quot;],&quot;link&quot;:[0,&quot;blog&quot;]}]]],&quot;Workshop&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;First Sounds&quot;],&quot;link&quot;:[0,&quot;workshop/first-sounds&quot;]}],[0,{&quot;text&quot;:[0,&quot;First Notes&quot;],&quot;link&quot;:[0,&quot;workshop/first-notes&quot;]}],[0,{&quot;text&quot;:[0,&quot;First Effects&quot;],&quot;link&quot;:[0,&quot;workshop/first-effects&quot;]}],[0,{&quot;text&quot;:[0,&quot;Pattern Effects&quot;],&quot;link&quot;:[0,&quot;workshop/pattern-effects&quot;]}],[0,{&quot;text&quot;:[0,&quot;Recap&quot;],&quot;link&quot;:[0,&quot;workshop/recap&quot;]}],[0,{&quot;text&quot;:[0,&quot;Workshop in German&quot;],&quot;link&quot;:[0,&quot;de/workshop/getting-started&quot;]}]]],&quot;Making Sound&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;Samples&quot;],&quot;link&quot;:[0,&quot;learn/samples&quot;]}],[0,{&quot;text&quot;:[0,&quot;Synths&quot;],&quot;link&quot;:[0,&quot;learn/synths&quot;]}],[0,{&quot;text&quot;:[0,&quot;Audio Effects&quot;],&quot;link&quot;:[0,&quot;learn/effects&quot;]}],[0,{&quot;text&quot;:[0,&quot;MIDI &amp; OSC&quot;],&quot;link&quot;:[0,&quot;learn/input-output&quot;]}]]],&quot;More&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;Recipes&quot;],&quot;link&quot;:[0,&quot;recipes/recipes&quot;]}],[0,{&quot;text&quot;:[0,&quot;Mini-Notation&quot;],&quot;link&quot;:[0,&quot;learn/mini-notation&quot;]}],[0,{&quot;text&quot;:[0,&quot;Visual Feedback&quot;],&quot;link&quot;:[0,&quot;learn/visual-feedback&quot;]}],[0,{&quot;text&quot;:[0,&quot;Offline&quot;],&quot;link&quot;:[0,&quot;learn/pwa&quot;]}],[0,{&quot;text&quot;:[0,&quot;Patterns&quot;],&quot;link&quot;:[0,&quot;technical-manual/patterns&quot;]}],[0,{&quot;text&quot;:[0,&quot;Mondo Notation&quot;],&quot;link&quot;:[0,&quot;learn/mondo-notation&quot;]}],[0,{&quot;text&quot;:[0,&quot;Music metadata&quot;],&quot;link&quot;:[0,&quot;learn/metadata&quot;]}],[0,{&quot;text&quot;:[0,&quot;CSound&quot;],&quot;link&quot;:[0,&quot;learn/csound&quot;]}],[0,{&quot;text&quot;:[0,&quot;Hydra&quot;],&quot;link&quot;:[0,&quot;learn/hydra&quot;]}],[0,{&quot;text&quot;:[0,&quot;Input Devices&quot;],&quot;link&quot;:[0,&quot;learn/input-devices&quot;]}],[0,{&quot;text&quot;:[0,&quot;Device Motion&quot;],&quot;link&quot;:[0,&quot;learn/devicemotion&quot;]}]]],&quot;Pattern Functions&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;Introduction&quot;],&quot;link&quot;:[0,&quot;functions/intro&quot;]}],[0,{&quot;text&quot;:[0,&quot;Creating Patterns&quot;],&quot;link&quot;:[0,&quot;learn/factories&quot;]}],[0,{&quot;text&quot;:[0,&quot;Time Modifiers&quot;],&quot;link&quot;:[0,&quot;learn/time-modifiers&quot;]}],[0,{&quot;text&quot;:[0,&quot;Control Parameters&quot;],&quot;link&quot;:[0,&quot;functions/value-modifiers&quot;]}],[0,{&quot;text&quot;:[0,&quot;Signals&quot;],&quot;link&quot;:[0,&quot;learn/signals&quot;]}],[0,{&quot;text&quot;:[0,&quot;Random Modifiers&quot;],&quot;link&quot;:[0,&quot;learn/random-modifiers&quot;]}],[0,{&quot;text&quot;:[0,&quot;Conditional Modifiers&quot;],&quot;link&quot;:[0,&quot;learn/conditional-modifiers&quot;]}],[0,{&quot;text&quot;:[0,&quot;Accumulation&quot;],&quot;link&quot;:[0,&quot;learn/accumulation&quot;]}],[0,{&quot;text&quot;:[0,&quot;Tonal Functions&quot;],&quot;link&quot;:[0,&quot;learn/tonal&quot;]}],[0,{&quot;text&quot;:[0,&quot;Stepwise Functions&quot;],&quot;link&quot;:[0,&quot;learn/stepwise&quot;]}]]],&quot;Understand&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;Coding syntax&quot;],&quot;link&quot;:[0,&quot;learn/code&quot;]}],[0,{&quot;text&quot;:[0,&quot;Pitch&quot;],&quot;link&quot;:[0,&quot;understand/pitch&quot;]}],[0,{&quot;text&quot;:[0,&quot;Xen Harmonic Functions&quot;],&quot;link&quot;:[0,&quot;learn/xen&quot;]}],[0,{&quot;text&quot;:[0,&quot;Cycles&quot;],&quot;link&quot;:[0,&quot;understand/cycles&quot;]}],[0,{&quot;text&quot;:[0,&quot;Voicings&quot;],&quot;link&quot;:[0,&quot;understand/voicings&quot;]}],[0,{&quot;text&quot;:[0,&quot;Pattern Alignment&quot;],&quot;link&quot;:[0,&quot;technical-manual/alignment&quot;]}],[0,{&quot;text&quot;:[0,&quot;Strudel vs Tidal&quot;],&quot;link&quot;:[0,&quot;learn/strudel-vs-tidal&quot;]}]]],&quot;Development&quot;:[1,[[0,{&quot;text&quot;:[0,&quot;Strudel in your Project&quot;],&quot;link&quot;:[0,&quot;technical-manual/project-start&quot;]}],[0,{&quot;text&quot;:[0,&quot;Packages&quot;],&quot;link&quot;:[0,&quot;technical-manual/packages&quot;]}],[0,{&quot;text&quot;:[0,&quot;REPL&quot;],&quot;link&quot;:[0,&quot;technical-manual/repl&quot;]}],[0,{&quot;text&quot;:[0,&quot;Sounds&quot;],&quot;link&quot;:[0,&quot;technical-manual/sounds&quot;]}],[0,{&quot;text&quot;:[0,&quot;Docs&quot;],&quot;link&quot;:[0,&quot;technical-manual/docs&quot;]}],[0,{&quot;text&quot;:[0,&quot;Testing&quot;],&quot;link&quot;:[0,&quot;technical-manual/testing&quot;]}]]]}],&quot;data-astro-cid-2w66rqv5&quot;:[0,true]}" ssr client="idle" opts="{&quot;name&quot;:&quot;MobileNav&quot;,&quot;value&quot;:true}" await-children><nav data-headlessui-state=""><button class="inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" id="headlessui-disclosure-button-:r2R1:" type="button" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></nav><!--astro:end--></astro-island> </div> </nav>   </header> <main class="relative pt-16"> <div class="h-full top-0 overflow-auto min-w-[300px] flex xl:justify-center pr-4 pl-4 md:pl-[300px] xl:pl-0"> <aside title="Site Navigation" class="w-[300px] px-6 left-0 hidden md:block fixed h-full"> <nav aria-labelledby="grid-left" class="max-h-full overflow-auto pb-20 text-foreground"> <ul> <li> <div class="nav-group pb-4"> <h2>Presentation</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/workshop/getting-started/" aria-current="false"> What is Strudel? </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/intro/showcase/" aria-current="false"> Showcase </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/blog/" aria-current="false"> Blog </a> </li> </ul> </div> </li><li> <div class="nav-group pb-4"> <h2>Workshop</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/workshop/first-sounds/" aria-current="false"> First Sounds </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/workshop/first-notes/" aria-current="false"> First Notes </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/workshop/first-effects/" aria-current="false"> First Effects </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/workshop/pattern-effects/" aria-current="false"> Pattern Effects </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/workshop/recap/" aria-current="false"> Recap </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/de/workshop/getting-started/" aria-current="false"> Workshop in German </a> </li> </ul> </div> </li><li> <div class="nav-group pb-4"> <h2>Making Sound</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/samples/" aria-current="false"> Samples </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/synths/" aria-current="false"> Synths </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/effects/" aria-current="false"> Audio Effects </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/input-output/" aria-current="false"> MIDI &amp; OSC </a> </li> </ul> </div> </li><li> <div class="nav-group pb-4"> <h2>More</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/recipes/recipes/" aria-current="false"> Recipes </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/mini-notation/" aria-current="false"> Mini-Notation </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/visual-feedback/" aria-current="false"> Visual Feedback </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/pwa/" aria-current="false"> Offline </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/patterns/" aria-current="false"> Patterns </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/mondo-notation/" aria-current="false"> Mondo Notation </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/metadata/" aria-current="false"> Music metadata </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/csound/" aria-current="false"> CSound </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/hydra/" aria-current="false"> Hydra </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/input-devices/" aria-current="false"> Input Devices </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/devicemotion/" aria-current="false"> Device Motion </a> </li> </ul> </div> </li><li> <div class="nav-group pb-4"> <h2>Pattern Functions</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/functions/intro/" aria-current="false"> Introduction </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/factories/" aria-current="false"> Creating Patterns </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/time-modifiers/" aria-current="false"> Time Modifiers </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/functions/value-modifiers/" aria-current="false"> Control Parameters </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/signals/" aria-current="false"> Signals </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/random-modifiers/" aria-current="false"> Random Modifiers </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/conditional-modifiers/" aria-current="false"> Conditional Modifiers </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/accumulation/" aria-current="false"> Accumulation </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/tonal/" aria-current="false"> Tonal Functions </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/stepwise/" aria-current="false"> Stepwise Functions </a> </li> </ul> </div> </li><li> <div class="nav-group pb-4"> <h2>Understand</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/code/" aria-current="false"> Coding syntax </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/understand/pitch/" aria-current="false"> Pitch </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/xen/" aria-current="false"> Xen Harmonic Functions </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/understand/cycles/" aria-current="false"> Cycles </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/understand/voicings/" aria-current="false"> Voicings </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/alignment/" aria-current="false"> Pattern Alignment </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/learn/strudel-vs-tidal/" aria-current="false"> Strudel vs Tidal </a> </li> </ul> </div> </li><li> <div class="nav-group pb-4"> <h2>Development</h2> <ul> <li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/project-start/" aria-current="false"> Strudel in your Project </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/packages/" aria-current="false"> Packages </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/repl/" aria-current="false"> REPL </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/sounds/" aria-current="false"> Sounds </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/docs/" aria-current="false"> Docs </a> </li><li class=""> <a class="pl-4 py-0.5 w-full hover:bg-lineHighlight block" href="/strudel/technical-manual/testing/" aria-current="false"> Testing </a> </li> </ul> </div> </li> </ul> </nav> <script>
window.addEventListener('DOMContentLoaded', () => {
  var target = document.querySelector('[aria-current="page"]');
  const nav = document.querySelector('.nav-groups');
  if (nav && target && target.offsetTop > window.innerHeight - 100) {
    nav.scrollTop = target.offsetTop;
  }
});
</script> </aside> <article id="article" class="content" data-astro-cid-j75b3yus> <section class="main-section" data-astro-cid-j75b3yus> <!-- TODO: add dropdown toc on mobile --> <div class="prose dark:prose-invert max-w-full pb-8" data-astro-cid-j75b3yus>  <h1 id="internal-functions">Internal Functions<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#internal-functions"><span class="icon icon-link"></span></a></h1>
<p>These functions are more low level, probably not needed by the live coder.</p>
<h1 id="haskell-style-functor-applicative-and-monadic-operations">Haskell-style functor, applicative and monadic operations<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#haskell-style-functor-applicative-and-monadic-operations"><span class="icon icon-link"></span></a></h1>
<h2 id="withvalue">withValue<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withvalue"><span class="icon icon-link"></span></a></h2>
<style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var l=(n,t)=>{let i=async()=>{await(await n())()},e=typeof t.value=="object"?t.value:void 0,s={timeout:e==null?void 0:e.timeout};"requestIdleCallback"in window?window.requestIdleCallback(i,s):setTimeout(i,s.timeout||200)};(self.Astro||(self.Astro={})).idle=l;window.dispatchEvent(new Event("astro:idle"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZJwcxC" prefix="r4" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withValue&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><span>Synonyms: <code>fmap</code></span><div><p>Returns a new pattern, with the function applied to the value of
each hap. It has the alias <code>fmap</code>.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->to to apply to the value</li></ul><div class="space-y-2"><pre>&quot;0 1 2&quot;.withValue(v =&gt; v + 10).log()</pre></div><!--astro:end--></astro-island>
<h2 id="appwhole">appWhole<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#appwhole"><span class="icon icon-link"></span></a></h2>
<astro-island uid="1b9SkN" prefix="r5" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#appWhole&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Assumes 'this' is a pattern of functions, and given a function to
resolve wholes, applies a given pattern of values to that
pattern of functions.</p></div><ul><li>whole_func<!-- --> (<!-- -->function<!-- -->): </li><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="appboth">appBoth<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#appboth"><span class="icon icon-link"></span></a></h2>
<astro-island uid="6a2RB" prefix="r6" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#appBoth&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>When this method is called on a pattern of functions, it matches its haps
with those in the given pattern of values.  A new pattern is returned, with
each matching value applied to the corresponding function.</p>
<p>In this <code>_appBoth</code> variant, where timespans of the function and value haps
are not the same but do intersect, the resulting hap has a timespan of the
intersection. This applies to both the part and the whole timespan.</p></div><ul><li>pat_val<!-- --> (<!-- -->Pattern<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="appleft">appLeft<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#appleft"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z2oeJk1" prefix="r7" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#appLeft&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>appBoth</code>, but the <code>whole</code> timespan is not the intersection,
but the timespan from the function of patterns that this method is called
on. In practice, this means that the pattern structure, including onsets,
are preserved from the pattern of functions (often referred to as the left
hand or inner pattern).</p></div><ul><li>pat_val<!-- --> (<!-- -->Pattern<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="appright">appRight<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#appright"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2q8n1a" prefix="r8" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#appRight&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>appLeft</code>, but <code>whole</code> timespans are instead taken from the
pattern of values, i.e. structure is preserved from the right hand/outer
pattern.</p></div><ul><li>pat_val<!-- --> (<!-- -->Pattern<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="bindwhole">bindWhole<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#bindwhole"><span class="icon icon-link"></span></a></h2>
<astro-island uid="1R8EXn" prefix="r9" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#bindWhole&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="bind">bind<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#bind"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z27INfm" prefix="r10" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#bind&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="join">join<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#join"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2jNPEv" prefix="r11" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#join&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="outerbind">outerBind<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#outerbind"><span class="icon icon-link"></span></a></h2>
<astro-island uid="1AclcA" prefix="r12" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#outerBind&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="outerjoin">outerJoin<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#outerjoin"><span class="icon icon-link"></span></a></h2>
<astro-island uid="WxQiw" prefix="r13" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#outerJoin&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="innerbind">innerBind<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#innerbind"><span class="icon icon-link"></span></a></h2>
<astro-island uid="1X5B9c" prefix="r14" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#innerBind&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="innerjoin">innerJoin<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#innerjoin"><span class="icon icon-link"></span></a></h2>
<astro-island uid="1kr7f8" prefix="r15" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#innerJoin&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="resetjoin">resetJoin<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#resetjoin"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1YmmTv" prefix="r16" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#resetJoin&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="restartjoin">restartJoin<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#restartjoin"><span class="icon icon-link"></span></a></h2>
<astro-island uid="39C9e" prefix="r17" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#restartJoin&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="squeezejoin">squeezeJoin<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#squeezejoin"><span class="icon icon-link"></span></a></h2>
<astro-island uid="1Akajw" prefix="r18" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#squeezeJoin&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="squeezebind">squeezeBind<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#squeezebind"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2dXEdA" prefix="r19" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#squeezeBind&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h1 id="utility-methods-mainly-for-internal-use">Utility methods mainly for internal use<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#utility-methods-mainly-for-internal-use"><span class="icon icon-link"></span></a></h1>
<h2 id="queryarc">queryArc<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#queryarc"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1FUqDp" prefix="r20" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#queryArc&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Query haps inside the given time span.</p></div><ul><li>begin<!-- --> (<!-- -->Fraction|number<!-- -->): <!-- -->from time</li><li>end<!-- --> (<!-- -->Fraction|number<!-- -->): <!-- -->to time</li></ul><div class="space-y-2"><pre>const pattern = sequence(&#x27;a&#x27;, [&#x27;b&#x27;, &#x27;c&#x27;])const haps = pattern.queryArc(0, 1)console.log(haps)silence</pre></div><!--astro:end--></astro-island>
<h2 id="splitqueries">splitQueries<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#splitqueries"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1QlTpU" prefix="r21" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#splitQueries&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern, with queries split at cycle boundaries. This makes
some calculations easier to express, as all haps are then constrained to
happen within a cycle.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="withqueryspan">withQuerySpan<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withqueryspan"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z212dwW" prefix="r22" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withQuerySpan&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern, where the given function is applied to the query
timespan before passing it to the original pattern.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->the function to apply</li></ul><div></div><!--astro:end--></astro-island>
<h2 id="withqueryspanmaybe">withQuerySpanMaybe<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withqueryspanmaybe"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZoqMVf" prefix="r23" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withQuerySpanMaybe&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="withquerytime">withQueryTime<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withquerytime"><span class="icon icon-link"></span></a></h2>
<astro-island uid="eNSmp" prefix="r24" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withQueryTime&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>withQuerySpan</code>, but the function is applied to both the
begin and end time of the query timespan.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->the function to apply</li></ul><div></div><!--astro:end--></astro-island>
<h2 id="withhapspan">withHapSpan<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withhapspan"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1wanBd" prefix="r25" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHapSpan&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Similar to <code>withQuerySpan</code>, but the function is applied to the timespans
of all haps returned by pattern queries (both <code>part</code> timespans, and where
present, <code>whole</code> timespans).</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="withhaptime">withHapTime<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withhaptime"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZBWgDC" prefix="r26" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHapTime&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>withHapSpan</code>, but the function is applied to both the
begin and end time of the hap timespans.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->the function to apply</li></ul><div></div><!--astro:end--></astro-island>
<h2 id="withhaps">withHaps<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withhaps"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZmXQ00" prefix="r27" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHaps&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern with the given function applied to the list of haps returned by every query.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="withhap">withHap<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withhap"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZSeHfA" prefix="r28" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withHap&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>withHaps</code>, but applies the function to every hap, rather than every list of haps.</p></div><ul><li>func<!-- --> (<!-- -->function<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="setcontext">setContext<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#setcontext"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZTMRX" prefix="r29" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#setContext&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern with the context field set to every hap set to the given value.</p></div><ul><li>context<!-- --> (<!-- -->*<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="withcontext">withContext<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withcontext"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZTMRX" prefix="r30" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#setContext&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern with the context field set to every hap set to the given value.</p></div><ul><li>context<!-- --> (<!-- -->*<!-- -->): </li></ul><div></div><!--astro:end--></astro-island>
<h2 id="stripcontext">stripContext<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#stripcontext"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1FBbMP" prefix="r31" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#stripContext&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern with the context field of every hap set to an empty object.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="withloc">withLoc<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#withloc"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1mckJK" prefix="r32" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#withLoc&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern with the given location information added to the
context of every hap.</p></div><ul><li>start<!-- --> (<!-- -->Number<!-- -->): <!-- -->start offset</li><li>end<!-- --> (<!-- -->Number<!-- -->): <!-- -->end offset</li></ul><div></div><!--astro:end--></astro-island>
<h2 id="filterhaps">filterHaps<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#filterhaps"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2nJ1yH" prefix="r33" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#filterHaps&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new Pattern, which only returns haps that meet the given test.</p></div><ul><li>hap_test<!-- --> (<!-- -->function<!-- -->): <!-- -->a function which returns false for haps to be removed from the pattern</li></ul><div class="space-y-2"><pre>s(&quot;bd*8&quot;).velocity(rand).filterHaps((h) =&gt; (h.whole.begin % 1) &lt; h.value.velocity)</pre></div><!--astro:end--></astro-island>
<h2 id="filtervalues">filterValues<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#filtervalues"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2kvisu" prefix="r34" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#filterValues&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>filterHaps</code>, but the function is applied to values
inside haps.</p></div><ul><li>value_test<!-- --> (<!-- -->function<!-- -->): </li></ul><div class="space-y-2"><pre>const drums = s(&quot;bd sd bd sd&quot;)kick: drums.filterValues((v) =&gt; v.s === &#x27;bd&#x27;).duck(2)snare: drums.filterValues((v) =&gt; v.s === &#x27;sd&#x27;)bass: s(&quot;saw!4&quot;).note(&quot;G#1&quot;).lpf(80).lpenv(4).orbit(2)</pre></div><!--astro:end--></astro-island>
<h2 id="removeundefineds">removeUndefineds<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#removeundefineds"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2kvisu" prefix="r35" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#filterValues&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>As with <code>filterHaps</code>, but the function is applied to values
inside haps.</p></div><ul><li>value_test<!-- --> (<!-- -->function<!-- -->): </li></ul><div class="space-y-2"><pre>const drums = s(&quot;bd sd bd sd&quot;)kick: drums.filterValues((v) =&gt; v.s === &#x27;bd&#x27;).duck(2)snare: drums.filterValues((v) =&gt; v.s === &#x27;sd&#x27;)bass: s(&quot;saw!4&quot;).note(&quot;G#1&quot;).lpf(80).lpenv(4).orbit(2)</pre></div><!--astro:end--></astro-island>
<h2 id="onsetsonly">onsetsOnly<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#onsetsonly"><span class="icon icon-link"></span></a></h2>
<astro-island uid="YEoOq" prefix="r36" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#onsetsOnly&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern, with all haps without onsets filtered out. A hap
with an onset is one with a <code>whole</code> timespan that begins at the same time
as its <code>part</code> timespan.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="discreteonly">discreteOnly<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#discreteonly"><span class="icon icon-link"></span></a></h2>
<astro-island uid="BhRxK" prefix="r37" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#discreteOnly&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern, with 'continuous' haps (those without 'whole'
timespans) removed from query results.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="defragmenthaps">defragmentHaps<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#defragmenthaps"><span class="icon icon-link"></span></a></h2>
<astro-island uid="18Y22u" prefix="r38" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#defragmentHaps&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Combines adjacent haps with the same value and whole.  Only
intended for use in tests.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="firstcycle">firstCycle<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#firstcycle"><span class="icon icon-link"></span></a></h2>
<astro-island uid="3iM6P" prefix="r39" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#firstCycle&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Queries the pattern for the first cycle, returning Haps. Mainly of use when
debugging a pattern.</p></div><ul><li>with_context<!-- --> (<!-- -->Boolean<!-- -->): <!-- -->set to true, otherwise the context field
will be stripped from the resulting haps.</li></ul><div></div><!--astro:end--></astro-island>
<h2 id="firstcyclevalues">firstCycleValues<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#firstcyclevalues"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z2ndy2U" prefix="r40" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#firstCycleValues&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Accessor for a list of values returned by querying the first cycle.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="showfirstcycle">showFirstCycle<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#showfirstcycle"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z2ab1mr" prefix="r41" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#showFirstCycle&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>More human-readable version of the <code>firstCycleValues</code> accessor.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="sorthapsbypart">sortHapsByPart<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#sorthapsbypart"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2myzak" prefix="r42" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#sortHapsByPart&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="asnumber">asNumber<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#asnumber"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2myzak" prefix="r43" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#sortHapsByPart&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Returns a new pattern, which returns haps sorted in temporal order. Mainly
of use when comparing two patterns for equality, in tests.</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h1 id="operators">Operators<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#operators"><span class="icon icon-link"></span></a></h1>
<ul>
<li>_opIn</li>
<li>_opOut</li>
<li>_opMix</li>
<li>_opSqueeze</li>
<li>_opSqueezeOut</li>
<li>_opTrig</li>
<li>_opTrigzero</li>
</ul>
<h1 id="other">Other<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#other"><span class="icon icon-link"></span></a></h1>
<h2 id="ontrigger">onTrigger<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#ontrigger"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1Pus1U" prefix="r44" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#onTrigger&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="log">log<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#log"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZoCYC2" prefix="r45" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#log&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="logvalues">logValues<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#logvalues"><span class="icon icon-link"></span></a></h2>
<astro-island uid="2jXeKA" prefix="r46" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#logValues&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="drawline">drawLine<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#drawline"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z19aH2R" prefix="r47" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;Pattern#drawLine&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="collect">collect<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#collect"><span class="icon icon-link"></span></a></h2>
<h1 id="functions">Functions<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#functions"><span class="icon icon-link"></span></a></h1>
<h2 id="grouphapsby">groupHapsBy<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#grouphapsby"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1JSpNt" prefix="r48" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;groupHapsBy&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="pure">pure<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#pure"><span class="icon icon-link"></span></a></h2>
<astro-island uid="MEFb2" prefix="r49" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;pure&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>A discrete value that repeats once per cycle.</p></div><ul></ul><div class="space-y-2"><pre>pure(&#x27;e4&#x27;) // &quot;e4&quot;</pre></div><!--astro:end--></astro-island>
<h2 id="reify">reify<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#reify"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z3Cz0e" prefix="r50" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;reify&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="slowcatprime">slowcatPrime<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#slowcatprime"><span class="icon icon-link"></span></a></h2>
<astro-island uid="ZkvowN" prefix="r51" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;slowcatPrime&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Concatenation: combines a list of patterns, switching between them successively, one per cycle. Unlike slowcat, this version will skip cycles.</p></div><ul><li>items<!-- --> (<!-- -->any<!-- -->): <!-- -->The items to concatenate</li></ul><div></div><!--astro:end--></astro-island>
<h2 id="ispattern">isPattern<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#ispattern"><span class="icon icon-link"></span></a></h2>
<astro-island uid="15EjHR" prefix="r52" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;isPattern&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="register">register<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#register"><span class="icon icon-link"></span></a></h2>
<astro-island uid="3N0QW" prefix="r53" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;register&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Registers a new pattern method. The method is added to the Pattern class + the standalone function is returned from register.</p></div><ul><li>name<!-- --> (<!-- -->string|Array.&lt;string&gt;<!-- -->): <!-- -->name of the function, or an array of names to be used as synonyms</li><li>func<!-- --> (<!-- -->function<!-- -->): <!-- -->function with 1 or more params, where last is the current pattern</li><li>patternify<!-- --> (<!-- -->bool<!-- -->): <!-- -->defaults to true; if set to false, you will have more control over the arguments to func as they will be
in their raw form and it will be up to you to patternify them and/or query them for values</li></ul><div class="space-y-2"><pre>const vlpf = register(&#x27;vlpf&#x27;, (freq, pat) =&gt; {  return pat.fmap((v) =&gt; ({...v, cutoff: freq * (v.velocity ?? 1) }));})s(&quot;saw&quot;).seg(8).velocity(rand).vlpf(800)</pre></div><!--astro:end--></astro-island>
<h2 id="tobipolar">toBipolar<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#tobipolar"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1sfkRd" prefix="r54" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;toBipolar&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Assumes a numerical pattern, containing unipolar values in the range 0 ..</p>
<ol>
<li>Returns a new pattern with values scaled to the bipolar range -1 .. 1</li>
</ol></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="frombipolar">fromBipolar<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#frombipolar"><span class="icon icon-link"></span></a></h2>
<astro-island uid="Z1ATubV" prefix="r55" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;fromBipolar&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Assumes a numerical pattern, containing bipolar values in the range -1 .. 1
Returns a new pattern with values scaled to the unipolar range 0 .. 1</p></div><ul></ul><div></div><!--astro:end--></astro-island>
<h2 id="compressspan">compressSpan<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#compressspan"><span class="icon icon-link"></span></a></h2>
<astro-island uid="kNOzj" prefix="r56" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;compressSpan&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div></div><!--astro:end--></astro-island>
<h2 id="focus">focus<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#focus"><span class="icon icon-link"></span></a></h2>
<astro-island uid="7UmT2" prefix="r57" component-url="/strudel/_astro/JsDoc.CfltZtbq.js" component-export="JsDoc" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;name&quot;:[0,&quot;focus&quot;],&quot;h&quot;:[0,0]}" ssr client="idle" opts="{&quot;name&quot;:&quot;JsDoc&quot;,&quot;value&quot;:true}" await-children><div><p>Similar to <code>compress</code>, but doesn't leave gaps, and the 'focus' can be bigger than a cycle</p></div><ul></ul><div class="space-y-2"><pre>s(&quot;bd hh sd hh&quot;).focus(1/4, 3/4)</pre></div><!--astro:end--></astro-island>
<h2 id="focusspan">focusSpan<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#focusspan"><span class="icon icon-link"></span></a></h2>
<h2 id="_composeop">_composeOp<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#_composeop"><span class="icon icon-link"></span></a></h2>
<h1 id="composers">Composers<a aria-hidden="true" tabindex="-1" href="/strudel/technical-manual/internals/#composers"><span class="icon icon-link"></span></a></h1>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>set keep keepif add sub mul div mod pow band bor bxor blshift brshift lt gt lte gte eq eqt ne net and or func</span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>In Out Mix Squeeze SqueezeOut Trig Trigzero</span></span></code></pre>  </div> </section> <nav class="block sm:hidden" data-astro-cid-j75b3yus> <ul class="px-4 py-4"> <li> <a class="flex items-center space-x-2" href="https://codeberg.org/uzu/strudel/src/branch/main/website/src/pages/strudel/technical-manual/internals.mdx" target="_blank"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em"> <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"></path> </svg> <span>Edit this page</span> </a> </li> <li class="header-link depth-2"> <a href="https://discord.com/invite/HGEdXmRkzT" target="_blank" class="flex items-center space-x-2"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="comment-alt" class="svg-inline--fa fa-comment-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em"> <path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"></path> </svg> <span>Join our community</span> </a> </li> <li class="header-link depth-2"> <a rel="me" href="https://social.toplap.org/@strudel" target="_blank" class="flex items-center space-x-2"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 216.4144 232.00976"> <path fill="currentColor" d="M211.80734 139.0875c-3.18125 16.36625-28.4925 34.2775-57.5625 37.74875-15.15875 1.80875-30.08375 3.47125-45.99875 2.74125-26.0275-1.1925-46.565-6.2125-46.565-6.2125 0 2.53375.15625 4.94625.46875 7.2025 3.38375 25.68625 25.47 27.225 46.39125 27.9425 21.11625.7225 39.91875-5.20625 39.91875-5.20625l.8675 19.09s-14.77 7.93125-41.08125 9.39c-14.50875.7975-32.52375-.365-53.50625-5.91875C9.23234 213.82 1.40609 165.31125.20859 116.09125c-.365-14.61375-.14-28.39375-.14-39.91875 0-50.33 32.97625-65.0825 32.97625-65.0825C49.67234 3.45375 78.20359.2425 107.86484 0h.72875c29.66125.2425 58.21125 3.45375 74.8375 11.09 0 0 32.975 14.7525 32.975 65.0825 0 0 .41375 37.13375-4.59875 62.915"></path> <path fill="black" d="M177.50984 80.077v60.94125h-24.14375v-59.15c0-12.46875-5.24625-18.7975-15.74-18.7975-11.6025 0-17.4175 7.5075-17.4175 22.3525v32.37625H96.20734V85.42325c0-14.845-5.81625-22.3525-17.41875-22.3525-10.49375 0-15.74 6.32875-15.74 18.7975v59.15H38.90484V80.077c0-12.455 3.17125-22.3525 9.54125-29.675 6.56875-7.3225 15.17125-11.07625 25.85-11.07625 12.355 0 21.71125 4.74875 27.8975 14.2475l6.01375 10.08125 6.015-10.08125c6.185-9.49875 15.54125-14.2475 27.8975-14.2475 10.6775 0 19.28 3.75375 25.85 11.07625 6.36875 7.3225 9.54 17.22 9.54 29.675"></path> </svg> <span>@strudel on Mastodon</span></a> </li> </ul> </nav> </article>  <aside class="fixed right-0 h-full overflow-auto pr-4 pl-0 pb-16 hidden xl:block" title="Table of Contents"> <nav aria-labelledby="grid-right" class="w-64 text-foreground"> <script>(()=>{var n=(a,t)=>{let i=async()=>{await(await a())()};if(t.value){let e=matchMedia(t.value);e.matches?i():e.addEventListener("change",i,{once:!0})}};(self.Astro||(self.Astro={})).media=n;window.dispatchEvent(new Event("astro:media"));})();</script><astro-island uid="S7UJK" prefix="r3" component-url="/strudel/_astro/TableOfContents.HKKaSpY4.js" component-export="default" renderer-url="/strudel/_astro/client.BnmqwyG6.js" props="{&quot;headings&quot;:[1,[[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;internal-functions&quot;],&quot;text&quot;:[0,&quot;Internal Functions&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;haskell-style-functor-applicative-and-monadic-operations&quot;],&quot;text&quot;:[0,&quot;Haskell-style functor, applicative and monadic operations&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withvalue&quot;],&quot;text&quot;:[0,&quot;withValue&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;appwhole&quot;],&quot;text&quot;:[0,&quot;appWhole&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;appboth&quot;],&quot;text&quot;:[0,&quot;appBoth&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;appleft&quot;],&quot;text&quot;:[0,&quot;appLeft&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;appright&quot;],&quot;text&quot;:[0,&quot;appRight&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;bindwhole&quot;],&quot;text&quot;:[0,&quot;bindWhole&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;bind&quot;],&quot;text&quot;:[0,&quot;bind&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;join&quot;],&quot;text&quot;:[0,&quot;join&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;outerbind&quot;],&quot;text&quot;:[0,&quot;outerBind&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;outerjoin&quot;],&quot;text&quot;:[0,&quot;outerJoin&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;innerbind&quot;],&quot;text&quot;:[0,&quot;innerBind&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;innerjoin&quot;],&quot;text&quot;:[0,&quot;innerJoin&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;resetjoin&quot;],&quot;text&quot;:[0,&quot;resetJoin&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;restartjoin&quot;],&quot;text&quot;:[0,&quot;restartJoin&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;squeezejoin&quot;],&quot;text&quot;:[0,&quot;squeezeJoin&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;squeezebind&quot;],&quot;text&quot;:[0,&quot;squeezeBind&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;utility-methods-mainly-for-internal-use&quot;],&quot;text&quot;:[0,&quot;Utility methods mainly for internal use&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;queryarc&quot;],&quot;text&quot;:[0,&quot;queryArc&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;splitqueries&quot;],&quot;text&quot;:[0,&quot;splitQueries&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withqueryspan&quot;],&quot;text&quot;:[0,&quot;withQuerySpan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withqueryspanmaybe&quot;],&quot;text&quot;:[0,&quot;withQuerySpanMaybe&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withquerytime&quot;],&quot;text&quot;:[0,&quot;withQueryTime&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withhapspan&quot;],&quot;text&quot;:[0,&quot;withHapSpan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withhaptime&quot;],&quot;text&quot;:[0,&quot;withHapTime&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withhaps&quot;],&quot;text&quot;:[0,&quot;withHaps&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withhap&quot;],&quot;text&quot;:[0,&quot;withHap&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;setcontext&quot;],&quot;text&quot;:[0,&quot;setContext&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withcontext&quot;],&quot;text&quot;:[0,&quot;withContext&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;stripcontext&quot;],&quot;text&quot;:[0,&quot;stripContext&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;withloc&quot;],&quot;text&quot;:[0,&quot;withLoc&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;filterhaps&quot;],&quot;text&quot;:[0,&quot;filterHaps&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;filtervalues&quot;],&quot;text&quot;:[0,&quot;filterValues&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;removeundefineds&quot;],&quot;text&quot;:[0,&quot;removeUndefineds&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;onsetsonly&quot;],&quot;text&quot;:[0,&quot;onsetsOnly&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;discreteonly&quot;],&quot;text&quot;:[0,&quot;discreteOnly&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;defragmenthaps&quot;],&quot;text&quot;:[0,&quot;defragmentHaps&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;firstcycle&quot;],&quot;text&quot;:[0,&quot;firstCycle&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;firstcyclevalues&quot;],&quot;text&quot;:[0,&quot;firstCycleValues&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;showfirstcycle&quot;],&quot;text&quot;:[0,&quot;showFirstCycle&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;sorthapsbypart&quot;],&quot;text&quot;:[0,&quot;sortHapsByPart&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;asnumber&quot;],&quot;text&quot;:[0,&quot;asNumber&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;operators&quot;],&quot;text&quot;:[0,&quot;Operators&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;other&quot;],&quot;text&quot;:[0,&quot;Other&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ontrigger&quot;],&quot;text&quot;:[0,&quot;onTrigger&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;log&quot;],&quot;text&quot;:[0,&quot;log&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;logvalues&quot;],&quot;text&quot;:[0,&quot;logValues&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;drawline&quot;],&quot;text&quot;:[0,&quot;drawLine&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;collect&quot;],&quot;text&quot;:[0,&quot;collect&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;functions&quot;],&quot;text&quot;:[0,&quot;Functions&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;grouphapsby&quot;],&quot;text&quot;:[0,&quot;groupHapsBy&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;pure&quot;],&quot;text&quot;:[0,&quot;pure&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;reify&quot;],&quot;text&quot;:[0,&quot;reify&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;slowcatprime&quot;],&quot;text&quot;:[0,&quot;slowcatPrime&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;ispattern&quot;],&quot;text&quot;:[0,&quot;isPattern&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;register&quot;],&quot;text&quot;:[0,&quot;register&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;tobipolar&quot;],&quot;text&quot;:[0,&quot;toBipolar&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;frombipolar&quot;],&quot;text&quot;:[0,&quot;fromBipolar&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;compressspan&quot;],&quot;text&quot;:[0,&quot;compressSpan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;focus&quot;],&quot;text&quot;:[0,&quot;focus&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;focusspan&quot;],&quot;text&quot;:[0,&quot;focusSpan&quot;]}],[0,{&quot;depth&quot;:[0,2],&quot;slug&quot;:[0,&quot;_composeop&quot;],&quot;text&quot;:[0,&quot;_composeOp&quot;]}],[0,{&quot;depth&quot;:[0,1],&quot;slug&quot;:[0,&quot;composers&quot;],&quot;text&quot;:[0,&quot;Composers&quot;]}]]],&quot;currentPage&quot;:[0,&quot;/strudel/technical-manual/internals&quot;]}" ssr client="media" opts="{&quot;name&quot;:&quot;TableOfContents&quot;,&quot;value&quot;:&quot;(min-width: 50em)&quot;}" await-children><ul><li class="w-full"><a href="/strudel/technical-manual/internals/#internal-functions" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Internal Functions</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#haskell-style-functor-applicative-and-monadic-operations" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Haskell-style functor, applicative and monadic operations</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withvalue" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withValue</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#appwhole" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">appWhole</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#appboth" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">appBoth</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#appleft" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">appLeft</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#appright" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">appRight</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#bindwhole" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">bindWhole</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#bind" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">bind</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#join" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">join</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#outerbind" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">outerBind</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#outerjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">outerJoin</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#innerbind" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">innerBind</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#innerjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">innerJoin</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#resetjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">resetJoin</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#restartjoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">restartJoin</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#squeezejoin" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">squeezeJoin</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#squeezebind" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">squeezeBind</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#utility-methods-mainly-for-internal-use" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Utility methods mainly for internal use</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#queryarc" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">queryArc</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#splitqueries" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">splitQueries</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withqueryspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withQuerySpan</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withqueryspanmaybe" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withQuerySpanMaybe</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withquerytime" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withQueryTime</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withhapspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withHapSpan</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withhaptime" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withHapTime</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withhaps" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withHaps</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withhap" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withHap</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#setcontext" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">setContext</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withcontext" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withContext</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#stripcontext" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">stripContext</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#withloc" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">withLoc</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#filterhaps" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">filterHaps</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#filtervalues" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">filterValues</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#removeundefineds" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">removeUndefineds</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#onsetsonly" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">onsetsOnly</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#discreteonly" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">discreteOnly</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#defragmenthaps" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">defragmentHaps</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#firstcycle" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">firstCycle</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#firstcyclevalues" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">firstCycleValues</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#showfirstcycle" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">showFirstCycle</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#sorthapsbypart" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">sortHapsByPart</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#asnumber" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">asNumber</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#operators" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Operators</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#other" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Other</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#ontrigger" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">onTrigger</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#log" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">log</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#logvalues" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">logValues</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#drawline" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">drawLine</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#collect" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">collect</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#functions" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Functions</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#grouphapsby" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">groupHapsBy</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#pure" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">pure</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#reify" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">reify</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#slowcatprime" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">slowcatPrime</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#ispattern" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">isPattern</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#register" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">register</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#tobipolar" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">toBipolar</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#frombipolar" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">fromBipolar</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#compressspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">compressSpan</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#focus" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">focus</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#focusspan" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">focusSpan</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#_composeop" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-9">_composeOp</a></li><li class="w-full"><a href="/strudel/technical-manual/internals/#composers" class="py-0.5 block cursor-pointer w-full border-l-4 border-lineHighlight hover:bg-lineHighlight pl-4">Composers</a></li></ul><!--astro:end--></astro-island> <ul class="px-4 py-4"> <li> <a class="flex items-center space-x-2" href="https://codeberg.org/uzu/strudel/src/branch/main/website/src/pages/strudel/technical-manual/internals.mdx" target="_blank"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em"> <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"></path> </svg> <span>Edit this page</span> </a> </li> <li class="header-link depth-2"> <a href="https://discord.com/invite/HGEdXmRkzT" target="_blank" class="flex items-center space-x-2"> <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="comment-alt" class="svg-inline--fa fa-comment-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em"> <path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"></path> </svg> <span>Join our community</span> </a> </li> <li class="header-link depth-2"> <a rel="me" href="https://social.toplap.org/@strudel" target="_blank" class="flex items-center space-x-2"> <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 216.4144 232.00976"> <path fill="currentColor" d="M211.80734 139.0875c-3.18125 16.36625-28.4925 34.2775-57.5625 37.74875-15.15875 1.80875-30.08375 3.47125-45.99875 2.74125-26.0275-1.1925-46.565-6.2125-46.565-6.2125 0 2.53375.15625 4.94625.46875 7.2025 3.38375 25.68625 25.47 27.225 46.39125 27.9425 21.11625.7225 39.91875-5.20625 39.91875-5.20625l.8675 19.09s-14.77 7.93125-41.08125 9.39c-14.50875.7975-32.52375-.365-53.50625-5.91875C9.23234 213.82 1.40609 165.31125.20859 116.09125c-.365-14.61375-.14-28.39375-.14-39.91875 0-50.33 32.97625-65.0825 32.97625-65.0825C49.67234 3.45375 78.20359.2425 107.86484 0h.72875c29.66125.2425 58.21125 3.45375 74.8375 11.09 0 0 32.975 14.7525 32.975 65.0825 0 0 .41375 37.13375-4.59875 62.915"></path> <path fill="black" d="M177.50984 80.077v60.94125h-24.14375v-59.15c0-12.46875-5.24625-18.7975-15.74-18.7975-11.6025 0-17.4175 7.5075-17.4175 22.3525v32.37625H96.20734V85.42325c0-14.845-5.81625-22.3525-17.41875-22.3525-10.49375 0-15.74 6.32875-15.74 18.7975v59.15H38.90484V80.077c0-12.455 3.17125-22.3525 9.54125-29.675 6.56875-7.3225 15.17125-11.07625 25.85-11.07625 12.355 0 21.71125 4.74875 27.8975 14.2475l6.01375 10.08125 6.015-10.08125c6.185-9.49875 15.54125-14.2475 27.8975-14.2475 10.6775 0 19.28 3.75375 25.85 11.07625 6.36875 7.3225 9.54 17.22 9.54 29.675"></path> </svg> <span>@strudel on Mastodon</span></a> </li> </ul> </nav> </aside> </div> </main> </div> </body></html>